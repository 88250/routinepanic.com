{{define "review.html"}}
<!DOCTYPE html>
<html>
<head>
    {{template "head" .}}
    <link type="text/css" rel="stylesheet"
          href="{{.Conf.StaticServer}}/js/lib/codemirror-5.40.2/codemirror.min.css"/>
    <link type="text/css" rel="stylesheet"
          href="{{.Conf.StaticServer}}/css/contri.css?{{.Conf.StaticResourceVersion}}"/>
</head>
<body>
<svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1"
     xmlns="http://www.w3.org/2000/svg">
    <defs>
        <symbol id="iconCheck" viewBox="0 0 32 32">
            <path d="M4 8h4v6h2v-12c0-1.1-0.9-2-2-2h-4c-1.1 0-2 0.9-2 2v12h2v-6zM4 2h4v4h-4v-4zM30 2v-2h-6c-1.1 0-2 0.9-2 2v10c0 1.1 0.9 2 2 2h6v-2h-6v-10h6zM20 5v-3c0-1.1-0.9-2-2-2h-6v14h6c1.1 0 2-0.9 2-2v-3c0-1.1-0.275-2-1.375-2 1.1 0 1.375-0.9 1.375-2zM18 12h-4v-4h4v4zM18 6h-4v-4h4v4zM26 18l-13 14-7-9 2.563-2.188 4.438 4.625 11-9.438z"></path>
        </symbol>
        <symbol id="iconQuestion" viewBox="0 0 20 20">
            <path d="M14.266 1.37c-1.267-0.913-2.858-1.37-4.774-1.37-1.457 0-2.687 0.321-3.686 0.964-1.586 1.007-2.428 2.717-2.53 5.128h3.675c0-0.703 0.206-1.378 0.614-2.031 0.41-0.651 1.106-0.977 2.087-0.977 0.998 0 1.686 0.264 2.060 0.792 0.377 0.53 0.564 1.116 0.564 1.758 0 0.56-0.28 1.072-0.619 1.537-0.186 0.271-0.43 0.521-0.734 0.749 0 0-1.992 1.278-2.867 2.305-0.507 0.594-0.552 1.487-0.598 2.765-0.002 0.091 0.032 0.28 0.35 0.28 0.319 0 2.573 0 2.857 0 0.284 0 0.343-0.21 0.347-0.304 0.020-0.464 0.071-0.703 0.157-0.972 0.16-0.508 0.598-0.95 1.088-1.332l1.011-0.697c0.913-0.712 1.641-1.296 1.963-1.753 0.549-0.751 0.936-1.678 0.936-2.778-0.001-1.795-0.634-3.147-1.901-4.062zM9.434 15.472c-1.266-0.039-2.31 0.838-2.35 2.211-0.039 1.371 0.953 2.279 2.22 2.316 1.321 0.039 2.338-0.808 2.379-2.181 0.038-1.373-0.927-2.307-2.249-2.346z"></path>
        </symbol>
        <symbol id="iconAnswer" viewBox="0 0 24 24">
            <path d="M22.36 10.633l1.64 1.64-11.098 11.098-5.904-5.959 1.64-1.64 4.264 4.319zM4.647 9.977h4.811l-2.405-6.451zM11.699 15.772l-1.367-3.499h-6.56l-1.312 3.499h-2.46l5.959-15.144h2.187l5.959 15.144h-2.405z"></path>
        </symbol>
        <symbol id="iconVice" viewBox="0 0 24 24">
            <path d="M21.514 6.009c-0.153-0.156-0.365-0.252-0.6-0.252s-0.447 0.096-0.6 0.252l-0 0c-0.159 0.147-0.258 0.356-0.258 0.589s0.099 0.442 0.257 0.589l0.001 0c1.2 1.176 1.972 2.86 1.972 4.792 0 1.936-0.772 3.534-1.972 4.794-0.159 0.147-0.258 0.356-0.258 0.589s0.099 0.442 0.257 0.589l0.001 0c0.153 0.156 0.365 0.252 0.6 0.252s0.447-0.096 0.6-0.252l0-0c1.535-1.508 2.486-3.605 2.486-5.925 0-0.016-0-0.033-0-0.049l0 0.003c0-0.013 0-0.029 0-0.045 0-2.32-0.951-4.417-2.485-5.924l-0.001-0.001zM19.028 8.449c-0.153-0.156-0.365-0.252-0.6-0.252s-0.447 0.096-0.6 0.252l-0 0c-0.158 0.147-0.257 0.356-0.257 0.588s0.099 0.441 0.256 0.588l0 0c0.6 0.588 1.030 1.43 1.030 2.354 0 0.926-0.344 1.766-1.030 2.356-0.159 0.147-0.258 0.356-0.258 0.589s0.099 0.442 0.257 0.589l0.001 0c0.153 0.156 0.365 0.252 0.6 0.252s0.447-0.096 0.6-0.252l0-0c0.944-0.926 1.544-2.188 1.544-3.534 0-1.344-0.6-2.69-1.544-3.532zM13.2 2.307l-6.342 3.786v11.774l6.342 3.784c1.2 0.758 2.228 0.168 2.228-1.178v-16.904c0-1.428-1.028-1.934-2.228-1.26zM0 8.613v6.728c0 1.43 1.114 2.524 2.572 2.524h2.568v-11.772h-2.568c-1.458 0-2.572 1.094-2.572 2.52z"></path>
        </symbol>
    </defs>
</svg>
{{template "nav" .}}
<div class="fn-content fn-wrap">
    <div class="form fn-flex-1 list__item contri__form">
        {{if eq 0 .Review.DataType}}
        <div class="fn-flex">
            <input type="text" class="fn-flex-1" value="{{.Review.OldTitle}}" disabled>
            <div class="contri__diff"></div>
            <input type="text" class="fn-flex-1"
                   value="{{.Review.Title}}"
                   name="title">
        </div>
        <div class="fn-hr"></div>
        {{end}}
        <div class="fn-relative fn-clear">
            <div id="dictionary"></div>
            <button type="button" class="fn-right" onclick="preview()">预览</button>
        </div>
        <div class="fn-hr"></div>
        <div class="fn-relative">
            <div class="contri__preview content-reset" id="contriPreview"></div>
        </div>

        <div id="content" class="fn-flex-1"></div>
        <textarea id="contentEn" class="fn-none">{{.Review.OldContent}}</textarea>
        <textarea id="contentZh" class="fn-none">{{.Review.Content}}</textarea>
        <textarea id="contentValue" class="fn-none" name="content">{{.Review.Content}}</textarea>
        <div class="fn-hr"></div>
        <input placeholder="备注" name="memo" type="text">
        <div class="fn-hr"></div>
        <div class="fn-flex">
            <a class="avatar avatar--mid avatar--right tooltipped tooltipped--n"
               aria-label="{{.Review.Contributor.Name}}"
               href="https://hacpai.com/member/{{.Review.Contributor.Name}}"
               style="background-image: url('{{.Review.Contributor.Avatar}}')"></a>
            <div class="fn-flex-1 ft-12 ft-fade">
                <div>
                    贡献值 {{.Review.Distance}} • 差异比 {{.Review.JaroWinkler}}
                    {{if ne "" .Review.Memo}}
                    • {{.Review.CreatedAt}}
                    {{end}}
                </div>
                <div class="fn-hr6"></div>
                <div>
                    {{if eq "" .Review.Memo}}
                    {{.Review.CreatedAt}}
                    {{else}}
                    {{.Review.Memo}}
                    {{end}}
                </div>
            </div>

            <div class="fn-flex-center">
                <button type="submit" class="btn--red">拒绝</button>
                <div class="fn-space"></div>
                <button type="submit">通过</button>
            </div>
        </div>
    </div>
</div>
<script src="{{.Conf.StaticServer}}/js/lib/codemirror-5.40.2/codemirror.min.js"></script>
<script src="{{.Conf.StaticServer}}/js/lib/jquery-3.3.1.min.js"></script>
<script src="{{.Conf.StaticServer}}/js/lib/highlight.min.js"></script>
<script src="{{.Conf.StaticServer}}/js/contri.js"></script>
</body>
</html>
{{end}}